{"version":3,"sources":["components/Remove.js","components/Search.js","components/Update.js","components/Add.js","components/Notification.js","services/persons.js","components/App.js","index.js"],"names":["Remove","props","person","onClick","id","console","log","window","confirm","name","deleteItem","Search","persons","filterName","setFilterName","filteredNames","filter","toLocaleLowerCase","includes","namesToFilter","value","onChange","e","target","length","map","number","Update","dupes","personObject","update","duplicate","personObj","updateItem","Add","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","isDupe","some","alert","addItem","type","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","errorMessage","setErrorMessage","useEffect","personService","initialPersons","p","setTimeout","catch","error","returnedPerson","concat","personFind","find","changedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.14996280.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Remove = (props) => {\r\nconst person = props.person\r\n\r\nconst handleDelete = (id) => {\r\n   console.log('id is: ', id)\r\n   if (window.confirm(`Do you really want to delete ${person.name} ?`)) {\r\n    props.deleteItem(id)\r\n   }\r\n}\r\nreturn (\r\n    <div>\r\n        <button onClick={() => handleDelete(person.id)}>delete</button>\r\n    </div>\r\n)\r\n\r\n}\r\n\r\n\r\n\r\n\r\nexport default Remove","import React from 'react'\r\nimport Remove from '../components/Remove'\r\n\r\nconst Search = (props) => {\r\n  const persons = props.persons\r\n  const filterName = props.filterName\r\n  const setFilterName = props.setFilterName\r\n  const filteredNames = persons.filter(person => person.name.toLocaleLowerCase().includes(filterName))\r\n  const namesToFilter = filterName ? filteredNames : persons\r\n\r\n     \r\n  return (\r\n    <div>\r\n    <h2>Search</h2>\r\n    <form />\r\n    <div>\r\n      <input \r\n        value={filterName}\r\n        onChange={e => setFilterName(e.target.value.toLocaleLowerCase())} \r\n        />\r\n        <hr />\r\n        {!filteredNames.length && (\r\n          <div>No name matches that criteria</div>\r\n        )}\r\n        {namesToFilter.map(person => (\r\n          <div key={person.id}>\r\n            <p>{person.name} {person.number}</p>\r\n            <Remove person={person} persons={persons} deleteItem={props.deleteItem}  />\r\n            </div>\r\n        ))}\r\n    </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Search                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ","\r\nconst Update = (dupes, personObject, update) => {\r\nconst duplicate = dupes[0]\r\nconst personObj = personObject\r\nconst updateItem = update\r\n/*const updateItem = update*/\r\n\r\nconst handleUpdate = () => {\r\nconsole.log('duplicate person is: ', duplicate)\r\nconsole.log('personObj is: ', personObj)\r\n\r\nif (window.confirm(`${duplicate.name} is already in the phonebook, replace the old number? ?`)) {\r\n    updateItem(duplicate.id, personObj)\r\n    }   \r\n\r\n}\r\n    return (\r\n    handleUpdate()\r\n)\r\n\r\n}\r\n\r\nexport default Update","import React from 'react'\r\nimport Update from './Update'\r\n\r\nconst Add = (props) => {\r\n    \r\n  const persons = props.persons\r\n    const newName = props.newName\r\n    const setNewName = props.setNewName\r\n    const newNumber = props.newNumber\r\n    const setNewNumber = props.setNewNumber\r\n\r\nconst addName = (event) => { {/*addName checks if a name already exists in the persons state */}\r\n      event.preventDefault()\r\n      console.log('button clicked', event.target)\r\n      const personObject = {\r\n          name: newName,\r\n          number: newNumber\r\n      }\r\n\r\n      const isDupe = function(person) {\r\n        return person.name === personObject.name\r\n      }\r\n\r\n      const dupes = persons.filter(isDupe)\r\n\r\n      if (persons.some(isDupe) === true) {\r\n        window.alert(personObject.name + '  already exists!')\r\n        console.log('The dupe person is: ', personObject.name)\r\n        Update(dupes, personObject, props.updateItem)\r\n      }\r\n      else {\r\n        props.addItem(personObject)\r\n      }\r\n\r\n    }\r\n\r\n  const handleNameChange = (event) => {\r\n      console.log(event.target.value)\r\n      setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n    <h2>Phonebook</h2>\r\n    <form onSubmit={addName}>\r\n      <div>\r\n        name: <input \r\n                  value={newName}\r\n                  onChange={handleNameChange}\r\n                       />\r\n      </div>\r\n      <div>\r\n      number: <input \r\n                  value={newNumber}\r\n                 onChange={handleNumberChange}\r\n                       />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n        {console.log(persons)}\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n  )\r\n\r\n}\r\n  \r\nexport default Add\r\n","const Notification = ({message}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <>\r\n    \r\n        {message.includes(\"successfully\") && (<div className='success'>{message}</div>)}\r\n        {message.includes(\"error\") && (<div className='error'>{message}</div>)}\r\n          </>\r\n    )\r\n}\r\n\r\nexport default Notification","//This file handles the communication to the backend\r\n\r\nimport axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n\r\n}\r\n\r\nexport default {getAll, create, update, remove} \r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport Search from './Search'\r\nimport Add from './Add'\r\nimport Notification from './Notification'\r\nimport personService from '../services/persons'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState('')\r\n  const [filterName, setFilterName] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n    .getAll()\r\n    .then(initialPersons => {\r\n      console.log('initialPersons is: ', initialPersons)\r\n      setPersons(initialPersons)\r\n    })\r\n }, [])\r\n\r\n const deleteItem = (id) => {\r\n  personService\r\n  .remove(id)\r\n  .then(() => {\r\n    setPersons(persons.filter(p => p.id !== id))\r\n    setErrorMessage(`Removed successfully`)\r\n    setTimeout(() => {\r\n      setErrorMessage(null)\r\n    }, 5000)\r\n  })\r\n  .catch(error => {\r\n    setErrorMessage(`error`)\r\n    setTimeout(() => {\r\n      setErrorMessage(null)\r\n    }, 5000)\r\n    setPersons(persons.filter(p => p.id !== id))\r\n  })\r\n  \r\n }\r\n\r\n const addItem = (personObject) => {\r\n  personService\r\n  .create(personObject)\r\n  .then(returnedPerson => {\r\n    setPersons(persons.concat(returnedPerson))\r\n    setErrorMessage(`${returnedPerson.name} was added successfully`)\r\n    setTimeout(() => {\r\n      setErrorMessage(null)\r\n    }, 5000)\r\n  })\r\n  .catch(error => {\r\n    setErrorMessage(`error`)\r\n    setTimeout(() => {\r\n      setErrorMessage(null)\r\n    }, 5000)\r\n    setPersons(persons.filter(p => p.id !== personObject.id))\r\n  })\r\n}\r\n\r\n const updateItem = (id, personObject) => {\r\n const personFind = persons.find(p => p.id === id) /*find the person ID */\r\n const changedPerson = {...personFind, number: personObject.number} /*Create copy of object and change the specified attribute */\r\n\r\n console.log('Person find is: ', personFind)\r\n console.log('changed person is: ', changedPerson)\r\n console.log('current persons: ', persons)\r\n\r\n\r\n  personService\r\n  .update(id, changedPerson)\r\n  .then(returnedPerson => {\r\n    setPersons(persons.map(p => p.id !== id ? p : returnedPerson))\r\n    setErrorMessage(`${returnedPerson.name} was updated successfully`)\r\n    setTimeout(() => {\r\n      setErrorMessage(null)\r\n    }, 5000)\r\n    console.log('returned person is:', returnedPerson)\r\n })\r\n .catch(error => {\r\n  setErrorMessage(`error`)\r\n  setTimeout(() => {\r\n    setErrorMessage(null)\r\n  }, 5000)\r\n  setPersons(persons.filter(p => p.id !== id))\r\n})\r\n \r\n console.log(persons)\r\n }\r\n\r\n  return (\r\n    <div>\r\n      <Search filterName={filterName} setFilterName={setFilterName} persons={persons} deleteItem={deleteItem}   />\r\n      <Notification message={errorMessage}/>\r\n      <Add persons={persons} setPersons={setPersons} newName={newName} setNewName={setNewName} newNumber={newNumber} setNewNumber={setNewNumber} addItem={addItem} updateItem={updateItem} errorMessage={errorMessage}  />\r\n    \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n\n"],"sourceRoot":""}